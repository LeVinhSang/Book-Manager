<html>
    <body>
    <script>

        //using promise in Ajax
        function Ajax(method, url) {

            return new Promise( (resolve, reject) => {
                let xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if(xhr.readyState === 4) {
                        resolve(JSON.parse(xhr.responseText));
                    }
                    if(xhr.status > 399) {
                        reject(xhr);
                    }
                };
                xhr.open(method, url);
                xhr.send();
            });
        }

        Ajax("get", "/books").then( (value => console.log(value)), () => {
            console.log("error");
        });

    </script>

    </body>
</html>
